<html>

<head>
  <title>SwapEscrow - DREX</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"
    integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
  <script src='https://cdn.jsdelivr.net/npm/bignumber.js@9.1.2/bignumber.min.js'></script>

  <script src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js" type="application/javascript"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js"
    integrity="sha512-pHVGpX7F/27yZ0ISY+VVjyULApbDlD0/X0rgGbTqCE7WFW5MezNTWG/dnhtbBuICzsd0WQPgpE4REBLv+UqChw=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">

  <style>
    /* body {
      background-image: url('./beams.png');
      background-size: 100%;
      background-repeat: no-repeat;
      background-attachment: fixed;
    } */
  </style>
</head>

<body>
  <div class="relative h-full w-full">

    <!-- dots closer -->
    <!-- <div
      class="absolute h-full w-full bg-[radial-gradient(#e5e7eb_1px,transparent_1px)] [background-size:16px_16px] [mask-image:radial-gradient(ellipse_50%_50%_at_50%_50%,#000_70%,transparent_100%)]">
    </div> -->
    <!-- squares -->
    <!-- <div
      class="absolute inset-0 -z-10 h-full w-full bg-white bg-[linear-gradient(to_right,#8080800a_1px,transparent_1px),linear-gradient(to_bottom,#8080800a_1px,transparent_1px)] bg-[size:14px_24px]">
    </div> -->

    <!-- <div
      class="absolute bottom-0 left-0 right-0 top-0 bg-[linear-gradient(to_right,#4f4f4f2e_1px,transparent_1px),linear-gradient(to_bottom,#4f4f4f2e_1px,transparent_1px)] bg-[size:14px_24px] [mask-image:radial-gradient(ellipse_80%_50%_at_50%_0%,#000_70%,transparent_80%)]">
    </div> -->

    <!-- <div
      class="absolute inset-0 -z-10 h-full w-full items-center px-5 py-24 [background:radial-gradient(125%_125%_at_50%_10%,#000_40%,#63e_100%)]">
    </div> -->

    <!-- <div
      class="absolute top-0 z-[-2] h-screen w-screen bg-[#000000] bg-[radial-gradient(#ffffff33_1px,#00091d_1px)] bg-[size:20px_20px]">
    </div> -->

    <div
      class="absolute top-0 z-[-2] h-screen w-screen bg-white bg-[radial-gradient(ellipse_80%_80%_at_50%_-20%,rgba(120,119,198,0.3),rgba(255,255,255,0))]">
    </div>

    <!-- <div
      class="absolute top-0 z-[-2] h-screen w-screen bg-white bg-[radial-gradient(100%_50%_at_50%_0%,rgba(0,163,255,0.13)_0,rgba(0,163,255,0)_50%,rgba(0,163,255,0)_100%)]">
    </div> -->

    <div class="text-gray-800 flex flex-col justify-between absolute">

      <header class="bg-white shadow rounded-b-xl w-full fixed">
        <div class="w-full px-6 py-2 flex flex-col md:flex-row items-center justify-between h-22">
          <div class="flex flex-col md:flex-row  md:w-1/4 items-center md:items-end justify-center md:justify-start ">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
              <path
                d="M12 1C9.24 1 7 3.24 7 6v4H6c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-9c0-1.1-.9-2-2-2h-1V6c0-2.76-2.24-5-5-5zm0 2c1.66 0 3 1.34 3 3v4H9V6c0-1.66 1.34-3 3-3zm-4 9h8v9H8v-9zm4 3c-.55 0-1 .45-1 1v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1z" />
            </svg>
            <span class="">&nbsp;SwapEscrow - DREX</span>
          </div>

          <nav class="flex items-center text-sm font-medium mt-[20px] md:mt-0">
            <a href="index.html"
              class="m-3 flex items-center flex-col  cursor-pointer bg-white hover:text-blue-500 border-b-2  border-transparent hover:border-blue-500">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                stroke="currentColor" class="size-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3" />
              </svg>
              Depositar
            </a>
            <a href="balances.html"
              class="m-3 flex items-center flex-col  cursor-pointer bg-white hover:text-blue-500 border-b-2  border-transparent hover:border-blue-500">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                stroke="currentColor" class="size-6">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z" />
              </svg>
              Balanços
            </a>
            <a href="swap.html"
              class="m-3 flex items-center flex-col cursor-pointer bg-white text-blue-500 border-b-2 border-blue-500">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                stroke="currentColor" class="size-6">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M3 7.5 7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5" />
              </svg>
              Swap
            </a>

            <a href="withdraw.html"
              class="m-3 flex items-center  flex-col cursor-pointer bg-white hover:text-blue-500 border-b-2  border-transparent hover:border-blue-500">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                stroke="currentColor" class="size-6">
                <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18" />
              </svg>
              Retirar
            </a>

            <a href="commitments.html"
              class="m-3 flex items-center  flex-col cursor-pointer bg-white hover:text-blue-500 border-b-2  border-transparent hover:border-blue-500">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                stroke="currentColor" class="size-6">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z" />
              </svg>
              Commitments
            </a>

            <a href="info.html"
              class="m-3 flex items-center  flex-col cursor-pointer bg-white hover:text-blue-500 border-b-2  border-transparent hover:border-blue-500">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                stroke="currentColor" class="size-6">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M14.25 9.75 16.5 12l-2.25 2.25m-4.5 0L7.5 12l2.25-2.25M6 20.25h12A2.25 2.25 0 0 0 20.25 18V6A2.25 2.25 0 0 0 18 3.75H6A2.25 2.25 0 0 0 3.75 6v12A2.25 2.25 0 0 0 6 20.25Z" />
              </svg>
              Info
            </a>

          </nav>
          <div class="flex w-1/4 items-end justify-start">
          </div>
        </div>
      </header>
      <div class="w-screen flex items-center justify-center mt-[180px] md:mt-[140px] md:p-0 p-6">
        <div class="w-[40rem] rounded-2xl bg-white p-4 shadow-lg">
          <div class="flex flex-col items-center justify-center  px-2 text-xl font-semibold text-gray-900">
            Swap Token
            <div class="mt-4 flex w-full items-center gap-10 justify-center">
              <div class="flex flex-col justify-center items-center gap-2 text-sm font-normal">
                Enviando
                <div class="flex justify-center">
                  <nav
                    class="flex items-center space-x-1 overflow-x-auto rounded-xl bg-gray-500/5 p-1 text-sm text-gray-600 rtl:space-x-reverse dark:bg-gray-500/20">
                    <button role="tab" type="button"
                      class="flex h-8 items-center whitespace-nowrap rounded-lg px-5 font-medium outline-none aria-selected:bg-white aria-selected:text-blue-600 aria-selected:shadow"
                      aria-selected="false" id="erc20Tab">ERC20</button>

                    <button role="tab" type="button"
                      class="flex h-8 items-center whitespace-nowrap rounded-lg px-5 font-medium text-gray-400 outline-none hover:text-gray-300 hover:text-gray-800 focus:text-blue-600 aria-selected:bg-white aria-selected:text-blue-600 aria-selected:shadow"
                      id="erc1155Tab" aria-selected="false">ERC1155</button>
                  </nav>
                </div>
              </div>
              <div class="flex flex-col justify-center items-center gap-2 text-sm font-normal">
                Recebendo
                <div class="flex justify-center">
                  <nav
                    class="flex items-center space-x-1 overflow-x-auto rounded-xl bg-gray-500/5 p-1 text-sm text-gray-600 rtl:space-x-reverse dark:bg-gray-500/20">
                    <button role="tab" type="button"
                      class="flex h-8 items-center whitespace-nowrap rounded-lg px-5 font-medium outline-none aria-selected:bg-white aria-selected:text-blue-600 aria-selected:shadow"
                      aria-selected="false" id="erc20TabTo">ERC20</button>

                    <button role="tab" type="button"
                      class="flex h-8 items-center whitespace-nowrap rounded-lg px-5 font-medium text-gray-400 outline-none hover:text-gray-300 hover:text-gray-800 focus:text-blue-600 aria-selected:bg-white aria-selected:text-blue-600 aria-selected:shadow"
                      id="erc1155TabTo" aria-selected="false">ERC1155</button>
                  </nav>
                </div>
              </div>
            </div>
          </div>
          <!-- Switch component for ERC20 and ERC1155 -->
          <!-- Counter Party
                  Amount Received
                  Token ID Sent
                  Token Sent Amount -->
          <br /><br />
          <form>
            <label for="swapTokenAddress" class="text-gray-600" id="labelSwapTokenAddress">Endereço do token</label>
            <div class="my-3 rounded-2xl border bg-white p-6 text-2xl" id="swapTokenAddressInput">
              <input type="text" class="w-full bg-transparent text-2xl text-gray-900 outline-none"
                placeholder="Endereço do token" id="swapTokenAddress" />
            </div>

            <label for="erc20AddressReceived" class="text-gray-600" id="labelErc20AddressReceived">Endereço do ERC20
              Test token</label>
            <div class="my-3 rounded-2xl border bg-white p-6 text-2xl" id="erc20AddressReceivedInput">
              <input type="text" class="w-full bg-transparent text-2xl text-gray-900 outline-none"
                placeholder="Endereço do token" id="erc20AddressReceived" />
            </div>

            <label for="counterParty" class="text-gray-600" id="labelCounterParty">Endereço Destinatário</label>
            <div class="my-3 rounded-2xl border bg-white p-6 text-2xl" id="counterPartyInput">
              <input type="text" class="w-full bg-transparent text-2xl text-gray-900 outline-none"
                placeholder="Endereço Destinatário" id="counterParty" />
            </div>

            <label for="amountSent" class="text-gray-600" id="labelAmountSent">Quantidade para enviar</label>
            <div class="my-3 rounded-2xl border bg-white p-6 text-2xl" id="amountSentInput">
              <input type="text" class="money w-full bg-transparent text-2xl text-gray-900 outline-none"
                placeholder="Quantidade para enviar" id="amountSent" />
            </div>

            <label for="tokenIdSent" class="text-gray-600" id="labelTokenIdSent">ID Do Token para enviar</label>
            <div class="my-3 rounded-2xl border bg-white p-6 text-2xl" id="tokenIdSentInput">
              <input type="number" class="w-full bg-transparent text-2xl text-gray-900 outline-none"
                placeholder="ID Do Token para enviar" id="tokenIdSent" />
            </div>

            <label for="tokenIdSentAmount" class="text-gray-600" id="labelTokenIdSentAmount">Quantidade de tokens para
              enviar</label>
            <div class="my-3 rounded-2xl border bg-white p-6 text-2xl" id="tokenIdSentAmountInput">
              <input type="number" class="w-full bg-transparent text-2xl text-gray-900 outline-none"
                placeholder="Quantidade de tokens para enviar" id="tokenIdSentAmount" />
            </div>

            <label for="tokenIdReceived" class="text-gray-600" id="labelTokenIdReceived">ID Do Token para
              receber</label>
            <div class="my-3 rounded-2xl border bg-white p-6 text-2xl" id="tokenIdReceivedInput">
              <input type="number" class="w-full bg-transparent text-2xl text-gray-900 outline-none"
                placeholder="ID Do Token para receber" id="tokenIdReceived" />
            </div>

            <label for="tokenReceivedAmount" class="text-gray-600" id="labelTokenReceivedAmount">Quantidade de tokens a
              receber</label>
            <div class="my-3 rounded-2xl border bg-white p-6 text-2xl" id="tokenReceivedAmountInput">
              <input type="number" class="w-full bg-transparent text-2xl text-gray-900 outline-none"
                placeholder="Quantidade de tokens a receber" id="tokenReceivedAmount" />
            </div>

            <div
              class="my-2 flex cursor-pointer items-center justify-center rounded-2xl bg-blue-500 px-8 py-6 text-xl font-semibold text-white"
              id="startSwapButton">
              <svg class="-ml-1 mr-3 hidden h-5 w-5 animate-spin text-white" xmlns="http://www.w3.org/2000/svg"
                fill="none" viewBox="0 0 24 24" id="isLoading">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor"
                  d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
                </path>
              </svg>
              Iniciar Proposta de Swap
            </div>
            <br />
          </form>

          <br />
          <!-- INSERT TABLES HERE -->
          <div class="relative mt-10 w-full overflow-auto">
            <!-- Filter by Status -->
            <div class="mb-4 flex items-center justify-start">
              <label for="statusFilter" class="mr-2 font-semibold text-gray-700">Filtrar pelo status:</label>
              <select id="statusFilter" class="rounded-md border p-2">
                <option value="">Todos</option>
                <option value="Open">Abertos</option>
                <option value="Completed">Completados</option>
                <option value="Cancelled">Cancelados</option>
              </select>
            </div>

            <table class="w-full caption-bottom text-sm">
              <thead class="bg-gray-100">
                <tr class="border-b">
                  <th class="h-12 px-4 text-left align-middle font-medium text-gray-700">Swap ID</th>
                  <th class="h-12 px-4 text-left align-middle font-medium text-gray-700">Emissor Swap</th>
                  <th class="h-12 px-4 text-left align-middle font-medium text-gray-700">Destinatário Swap</th>
                  <th class="h-12 px-4 text-left align-middle font-medium text-gray-700">Estado</th>
                  <th class="h-12 px-4 text-left align-middle font-medium text-gray-700">Ações</th>
                </tr>
              </thead>
              <svg class="-ml-1 mr-3 hidden h-5 w-5 animate-spin text-white" xmlns="http://www.w3.org/2000/svg"
                fill="none" viewBox="0 0 24 24" id="isLoading">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor"
                  d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
                </path>
              </svg>
              <tbody id="swapTableBody">
                <!-- Data will be appended here -->
              </tbody>
            </table>
          </div>
        </div>


      </div>
      <div class="h-full text-gray-800 w-screen flex-1 pt-14 flex items-end justify-end pb-12 overflow-scroll px-8">
        <!-- Additional content here -->
      </div>
    </div>
  </div>

  <!-- jQuery AJAX Handling -->
  <script src="./utils.js"></script>
  <script src="./script.js"></script>

</body>

</html>